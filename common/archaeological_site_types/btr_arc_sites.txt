# site_type_name = {				# Key of the site, used for name lookup etc.
#	picture = <sprite key>		# GFX_* sprite key for the sites image
#	desc = <triggered event desc>	# Description generator for the site, with scope this=archaeological site.
#	max_instances = <int>			# Max instances of this type a galaxy can have, only checked when using 'create_archaeological_site = random'
#	weight = <scriptable value>		# Weight used for random weight, only used when using 'create_archaeological_site = random'. scriptable value type is defined either by '<int>' or '<mean time to happen>'.
#	stages = <int>					# Should match number of defined stages below.
#	potential = <trigger>			# Trigger checking if a scope with this=fleet ,from=archaeological site is potential to excavate (this will add/remove this option without giving the player a reason).
#	allow = <trigger>				# Trigger checking if a scope with this=fleet ,from=archaeological site is allowed to excavate (this will toggle enable/disabled mode on buttons etc).
#	visible = <trigger>				# Trigger that checks if a scope with this=country can see the from=archaeological site
#	stage = {						# Stage definition, order dependent.
#		difficulty = <interval int> 	# min max interval type. interval is defined either by '<int>' or '{ min = <int> max=<int> }' where the later will randomize a value between min and max.
#		icon = <string>				# rune icon gfx type.
#		event = <string>			# event to fire when finished the state.
#	}
#	stage = {...}					# Second stage, the total number of 'stage' entries should match value of 'stages'
#	on_roll_failed = <effect>			# Effect to fire when a roll fails, with scope this=fleet ,from=archaeological site.
#	on_create = <effect>			# Effect to fire upon site creation, with scope this=archaeological site.
#	on_visible = <effect>			# Effect to fire upon site visible, with scope this=country, from=archaeological site.
#}

###########################################
##### PLANETARY DIVERSITY - Dig Sites #####
###########################################

#Archive World
#Relic + 
pdcoral_site = {
	desc = pdcoral_site_desc
	picture = GFX_evt_coral
	stages = 4
	max_instances = 1
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	visible = {
		default_site_visible_trigger = yes
	}
	on_visible = {
		country_event = { id = story.5 days = 30 }
	}	
	
	stage = {
		difficulty = 3
		icon = GFX_archaeology_runes_D1
		event = pdcoral.11
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_D2
		event = pdcoral.12
	}
	stage = {
		difficulty = 5
		icon = GFX_archaeology_runes_D3
		event = pdcoral.13
	}
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_D4
		event = pdcoral.14
	}

	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}

############################################
##### MASS EFFECT CRUCIBLE - Dig Sites #####
############################################

# Citadel Exploration
citadel_dig_site = {
	desc = citadel_dig_site_desc
	picture = btr_GFX_evt_citadel_1
	stages = 7
	max_instances = 1
	weight = { base = 0 }
	potential = {}
	visible = { 
		default_site_visible_trigger = yes
		#has_country_flag = "discovered_citadel_first"
	}
	allow = {
		exists = leader
		leader = { leader_class = scientist }
		#owner = { has_country_flag = "discovered_citadel_first" }
	}
	stage = {
		difficulty = 1
		icon = GFX_archaeology_runes_prothean
		event = btr_citadel.2
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_citadel.3
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_citadel.4
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_citadel.5
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_citadel.6
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_citadel.7
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_citadel.8
	}
	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

# Ilos Prothean Ruins
ilos_dig_site = {
	desc = ilos_dig_site_desc
	picture = btr_GFX_evt_ilos_dig_site
	stages = 5
	max_instances = 1
	weight = { base = 0 }
	potential = {}
	visible = { # maybe change?
		default_site_visible_trigger = yes
		#has_country_flag = ilos_event
	}
	allow = {
		exists = leader
		leader = { leader_class = scientist }
		#exists = owner
		#owner = { has_country_flag = ilos_event }
	}
	stage = {
		difficulty = 1
		icon = GFX_archaeology_runes_prothean
		event = btr_ilos.4
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_ilos.5
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_ilos.6
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_ilos.7
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_ilos.8
	}
	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

# Mars Prothean Ruins
mars_dig_site = {
	desc = mars_dig_site_desc
	picture = btr_GFX_evt_mars_base_camp
	stages = 8
	max_instances = 1
	weight = { base = 0 }
	potential = {}
	visible = { 
		default_site_visible_trigger = yes
		has_country_flag = "systems_alliance"
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
		exists = owner
		owner = { has_country_flag = "systems_alliance" }
	}
	stage = {
		difficulty = 1
		icon = GFX_archaeology_runes_prothean
		event = btr_mars.2
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_mars.3
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_mars.4
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_mars.5
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_mars.6
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_mars.7
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_mars.8
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_mars.9
	}
	on_roll_failed = {
		from = { standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events } }
	}
}

##############################
##### MEC:EG - Dig Sites #####
##############################

### Hades Nexus
## Sheol
# Gei Hinnom (Prothean Burial Ground) 
mec_eg_site_geihinnom_graves = {
	desc = "mec_eg_site_geihinnom_graves_intro"
	picture = GFX_evt_barren_dig_site
	stages = 5
	max_instances = 1
	weight = 0
	
    allow = {
		exists = leader
		leader = { leader_class = scientist }
	}

	visible = {
		default_site_visible_trigger = yes
    }

    on_visible = {
		country_event = { id = story.5 days = 30 }
    }

	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_E3
		event = mec_eg_site.20911
	}

	stage = {
		difficulty = 5
		icon = GFX_archaeology_runes_C6
		event = mec_eg_site.20912
	}

	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_C1
		event = mec_eg_site.20913
	}

	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_C3
		event = mec_eg_site.20914
	}

	stage = {
		difficulty = 9
		icon = GFX_archaeology_runes_E5
		event = mec_eg_site.20915
	}

	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = mec_eg_site_geihinnom_mini_events }
		}
	}
}

#################################
##### MEC:ASARI - Dig Sites #####
#################################


# Thessia: Prothean Beacon
mec_asari_site_thessia_beacon = {
	desc = "mec_asari_site_thessia_beacon_intro"
	picture = GFX_mec_event_thessia_01
	stages = 7
	weight = {
		base = 0
	}
	allow = {
		exists = leader
		leader = { leader_class = scientist }
	}
	visible = {
		has_origin = btr_origin_asrep
	}

	on_visible = {
	}

	stage = {
		difficulty = 5
		icon = GFX_archaeology_runes_B1
		event = mec_asari_site.101
	}

	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_B2
		event = mec_asari_site.102
	}

	stage = {
		difficulty = 7
		icon = GFX_archaeology_runes_B3
		event = mec_asari_site.103
	}

	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_B4
		event = mec_asari_site.104
	}

	stage = {
		difficulty = 9
		icon = GFX_archaeology_runes_B5
		event = mec_asari_site.105
	}

	stage = {
		difficulty = 10
		icon = GFX_archaeology_runes_B6
		event = mec_asari_site.106
	}

	stage = {
		difficulty = 12
		icon = GFX_archaeology_runes_E6
		event = mec_asari_site.107
	}

	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = mec_asari_site_thessia_mini_events }
		}
	}
}


#################################
##### BTR Prothean Dig Sites #####
#################################
btr_site_prothean_beacon_asari = {
	desc = "btr_asari_site_prothean_beacon_intro_asari_desc"
	stages = 5
	max_instances = 10
	weight = {
		base = 0
	}
	visible = {
		default_site_visible_trigger = yes
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_site.101
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.102
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.103
	}
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_prothean
		event = btr_site.104
	}
	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_prothean
		event = btr_site.105
	}
	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}

btr_site_prothean_beacon_turian = {
	desc = "btr_asari_site_prothean_beacon_intro_turian_desc"
	stages = 5
	max_instances = 10
	weight = {
		base = 0
	}
	visible = {
		default_site_visible_trigger = yes
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_site.106
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.107
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.108
	}
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_prothean
		event = btr_site.109
	}
	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_prothean
		event = btr_site.110
	}
	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}

btr_site_prothean_beacon_elcor = {
	desc = "btr_asari_site_prothean_beacon_intro_elcor_desc"
	stages = 5
	max_instances = 10
	weight = {
		base = 0
	}
	visible = {
		default_site_visible_trigger = yes
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_site.111
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.112
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.113
	}
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_prothean
		event = btr_site.114
	}
	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_prothean
		event = btr_site.115
	}
	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}

btr_site_prothean_beacon_hanar = {
	desc = "btr_asari_site_prothean_beacon_intro_hanar_desc"
	stages = 5
	max_instances = 10
	weight = {
		base = 0
	}
	visible = {
		default_site_visible_trigger = yes
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_site.116
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.117
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.118
	}
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_prothean
		event = btr_site.119
	}
	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_prothean
		event = btr_site.120
	}
	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}

btr_site_prothean_beacon_human = {
	desc = "btr_asari_site_prothean_beacon_intro_human_desc"
	stages = 5
	max_instances = 10
	weight = {
		base = 0
	}
	visible = {
		default_site_visible_trigger = yes
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_site.121
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.122
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.123
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_prothean
		event = btr_site.124
	}
	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_prothean
		event = btr_site.125
	}
	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}

btr_site_prothean_beacon_bats = {
	desc = "btr_asari_site_prothean_beacon_intro_bats_desc"
	stages = 5
	max_instances = 10
	weight = {
		base = 0
	}
	visible = {
		default_site_visible_trigger = yes
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_site.126
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.127
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.128
	}
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_prothean
		event = btr_site.129
	}
	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_prothean
		event = btr_site.130
	}
	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}

btr_site_prothean_beacon_vol = {
	desc = "btr_asari_site_prothean_beacon_intro_vol_desc"
	stages = 5
	max_instances = 10
	weight = {
		base = 0
	}
	visible = {
		default_site_visible_trigger = yes
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_site.131
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.132
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.133
	}
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_prothean
		event = btr_site.134
	}
	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_prothean
		event = btr_site.135
	}
	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}

btr_site_prothean_beacon_sal = {
	desc = "btr_asari_site_prothean_beacon_intro_sal_desc"
	stages = 5
	max_instances = 10
	weight = {
		base = 0
	}
	visible = {
		default_site_visible_trigger = yes
	}
	allow = {
		is_ship_class = shipclass_science_ship
		exists = leader
	}
	stage = {
		difficulty = 2
		icon = GFX_archaeology_runes_prothean
		event = btr_site.136
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.137
	}
	stage = {
		difficulty = 4
		icon = GFX_archaeology_runes_prothean
		event = btr_site.138
	}
	stage = {
		difficulty = 6
		icon = GFX_archaeology_runes_prothean
		event = btr_site.139
	}
	stage = {
		difficulty = 8
		icon = GFX_archaeology_runes_prothean
		event = btr_site.140
	}
	on_roll_failed = {
		from = {
			standard_archaeological_site_on_roll_failed = { RANDOM_EVENTS = all_random_events }
		}
	}
}